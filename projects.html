<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Project — Portfolio</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    :root{ --ink:#111; --paper:#fff; }

    /* ===== NỀN TOÀN TRANG: ảnh PROJECT ===== */
    html, body { height: 100%; }
    body{
      margin:0;
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
      background: #fff url("https://github.com/nguyendangminh278-coder/portfolio/blob/5b9292505aabcb280f6d360a93918a46f3a522e2/%E1%BA%A2nh%20main/Project/pro.png?raw=1")
                  center / cover no-repeat fixed; /* ảnh project làm BACKGROUND cả trang */
    }

    /* Lớp phủ rất nhẹ để đảm bảo chữ/ô đọc rõ nhưng vẫn thấy nền */
    .page-overlay{
      position: fixed; inset: 0;
      background: rgba(255,255,255,.08);  /* mờ nhẹ, có thể chỉnh .00 – .15 tùy ý */
      pointer-events: none;
      z-index: 0;
    }

    /* Bọc nội dung để nằm TRÊN nền */
    .content{
      position: relative;
      z-index: 1;
      min-height: 100dvh;
      padding-bottom: 24px;
    }

    /* Vùng chính */
    .proj-wrap{ padding: 12px 16px 28px; }
    .proj-layout{
      display: grid;
      grid-template-columns: clamp(210px,26vw,320px) 1fr;
      gap: 18px; align-items: start;
    }

    /* Back lên góc trái */
    .top-back{
      display:inline-block; margin: 10px 16px 0;
    }

    /* Menu trái */
    .proj-menu{ padding:8px 0 0 6px; }
    .proj-item{
      position:relative; display:block;
      padding:8px 10px 8px 28px; margin:4px 0;
      color:#111; text-decoration:none;
      font-weight:500; font-size:clamp(15px,1.7vw,18px);
      text-shadow: 0 1px 0 rgba(255,255,255,.8);
    }
    .proj-item::before{
      content:"\\"; position:absolute; left:6px; top:50%;
      transform:translateY(-50%); opacity:.9; transition:.18s;
    }
    .proj-item::after{
      content:"\\"; position:absolute; right:6px; top:50%;
      transform:translate(6px,-50%); opacity:0; transition:.18s;
    }
    .proj-item:hover,.proj-item.is-active{ font-weight:800; }
    .proj-item:hover::before,.proj-item.is-active::before{ opacity:0; transform:translate(-6px,-50%); }
    .proj-item:hover::after,.proj-item.is-active::after{ opacity:1; transform:translate(0,-50%); }

    /* Grid project bên phải */
    .project-grid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap: 16px;
    }
    .proj-card{
      display:block; overflow:hidden; background:#fff;
      border:2px solid var(--ink); border-radius:12px;
      box-shadow:6px 6px 0 0 var(--ink);
      transition:transform .12s, box-shadow .12s;
      backdrop-filter: blur(0px);
    }
    .proj-card:hover{ transform:translate(-2px,-2px); box-shadow:10px 10px 0 0 var(--ink); }
    .proj-card img{ width:100%; height:100%; object-fit:cover; display:block; }

    /* Tabs */
    .tab-panel{ display:none; }
    .tab-panel.is-show{ display:block; }

    /* ===== Viewer overlay (Marketing) ===== */
    .viewer{
      position:fixed; inset:0; z-index: 9999; display:none;
    }
    .viewer.is-open{ display:block; }
    .viewer-backdrop{
      position:absolute; inset:0; background:rgba(0,0,0,.65);
    }
    .viewer-panel{
      position:absolute; left:50%; top:50%;
      transform:translate(-50%,-50%);
      width:min(1100px,92vw);
      background:#fff;
      border:3px solid var(--ink);
      border-radius:16px;
      box-shadow:10px 10px 0 0 var(--ink);
      overflow:hidden;
    }
    .viewer-head{
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; background:#fff; border-bottom:2px solid var(--ink);
      font-weight:800;
    }
    .viewer-body{
      max-height:70vh; overflow:auto; background:#fff;
      padding:10px; display:grid; place-items:center;
    }
    .viewer-img{ width:100%; height:auto; object-fit:contain; display:block; }
    .viewer-foot{
      display:flex; gap:10px; justify-content:center; align-items:center;
      padding:10px; border-top:2px solid var(--ink); background:#fff;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:8px 12px; border:2px solid var(--ink); border-radius:10px;
      background:#fff; color:#111; font-weight:800; cursor:pointer;
      box-shadow:4px 4px 0 0 var(--ink);
      transition:transform .12s, box-shadow .12s;
      text-decoration:none;
    }
    .btn:hover{ transform:translate(-2px,-2px); box-shadow:8px 8px 0 0 var(--ink); }
    .btn:active{ transform:none; box-shadow:3px 3px 0 0 var(--ink); }

    .viewer-count{ font-weight:700; }

    @media (max-width:980px){
      .proj-layout{ grid-template-columns: 1fr; }
      .project-grid{ grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <!-- Lớp phủ mờ nhẹ để chữ/ô nổi hơn nhưng vẫn thấy nền -->
  <div class="page-overlay" aria-hidden="true"></div>

  <main class="stage content">
    <div class="canvas">

      <!-- Back về trang chính -->
      <div class="top-back">
        <a class="nav-chip" href="index.html" style="height:42px; transform:none; box-shadow:4px 4px 0 0 var(--ink);">
          ← Back to main
        </a>
      </div>

      <section class="proj-wrap" aria-label="Projects">
        <div class="proj-layout">
          <!-- MENU -->
          <nav class="proj-menu" aria-label="Project categories">
            <a href="#" class="proj-item" data-tab="overall">Overall</a>
            <a href="#" class="proj-item is-active" data-tab="marketing">Marketing</a>
            <a href="#" class="proj-item" data-tab="social">Social Media</a>
            <a href="#" class="proj-item" data-tab="sales">Sales</a>
            <a href="#" class="proj-item" data-tab="ba">Business Analysis</a>
          </nav>

          <!-- PANELS -->
          <div>
            <!-- Overall (placeholder) -->
            <div class="tab-panel" id="tab-overall">
              <div class="project-grid">
                <a class="proj-card" href="#"><img src="" alt="Overall project placeholder" loading="lazy"></a>
                <a class="proj-card" href="#"><img src="" alt="Overall project placeholder" loading="lazy"></a>
              </div>
            </div>

            <!-- MARKETING (3 projects mở viewer trong khung) -->
            <div class="tab-panel is-show" id="tab-marketing" aria-label="Marketing projects">
              <div class="project-grid">
                <!-- Project 1: Be -->
                <a class="proj-card marketing-open"
                   href="#"
                   data-title="Be — Marketing case"
                   data-base="https://github.com/nguyendangminh278-coder/portfolio/blob/96d99b7ffe6e802a708ea978b4c89c362a295d51/%E1%BA%A2nh%20main/Project/Be/"
                   data-max="30">
                  <img
                    src="https://github.com/nguyendangminh278-coder/portfolio/blob/96d99b7ffe6e802a708ea978b4c89c362a295d51/%E1%BA%A2nh%20main/Project/Be/1.png?raw=1"
                    alt="Be — cover" loading="lazy">
                </a>

                <!-- Project 2: Marketing Arena -->
                <a class="proj-card marketing-open"
                   href="#"
                   data-title="Marketing Arena"
                   data-base="https://github.com/nguyendangminh278-coder/portfolio/blob/96d99b7ffe6e802a708ea978b4c89c362a295d51/%E1%BA%A2nh%20main/Project/MARKETING%20AREANA/"
                   data-max="30">
                  <img
                    src="https://github.com/nguyendangminh278-coder/portfolio/blob/96d99b7ffe6e802a708ea978b4c89c362a295d51/%E1%BA%A2nh%20main/Project/MARKETING%20AREANA/1.png?raw=1"
                    alt="Marketing Arena — cover" loading="lazy">
                </a>

                <!-- Project 3: [BLM] CLOSEUP -->
                <a class="proj-card marketing-open"
                   href="#"
                   data-title="[BLM] CLOSEUP"
                   data-base="https://github.com/nguyendangminh278-coder/portfolio/blob/96d99b7ffe6e802a708ea978b4c89c362a295d51/%E1%BA%A2nh%20main/Project/%5BBLM%5D%20CLOSEUP/"
                   data-max="30">
                  <img
                    src="https://github.com/nguyendangminh278-coder/portfolio/blob/96d99b7ffe6e802a708ea978b4c89c362a295d51/%E1%BA%A2nh%20main/Project/%5BBLM%5D%20CLOSEUP/1.png?raw=1"
                    alt="[BLM] CLOSEUP — cover" loading="lazy">
                </a>
              </div>
            </div>

            <!-- SOCIAL MEDIA (6 projects) -->
            <div class="tab-panel" id="tab-social" aria-label="Social Media projects">
              <div class="project-grid">
                <a class="proj-card" href="https://www.facebook.com/danhgiatuduybkhntsa" target="_blank" rel="noopener">
                  <img src="https://github.com/nguyendangminh278-coder/portfolio/blob/3d05bbf810f7dc2615f5898635158482db4bc866/%E1%BA%A2nh%20main/Project/Social%20Media/1.png?raw=1" alt="Social Media 1" loading="lazy">
                </a>
                <a class="proj-card" href="https://www.facebook.com/groups/danhgiatuduyhust/" target="_blank" rel="noopener">
                  <img src="https://github.com/nguyendangminh278-coder/portfolio/blob/3d05bbf810f7dc2615f5898635158482db4bc866/%E1%BA%A2nh%20main/Project/Social%20Media/2.png?raw=1" alt="Social Media 2" loading="lazy">
                </a>
                <a class="proj-card" href="https://www.facebook.com/tailieuonthidanhgiatuduytsa" target="_blank" rel="noopener">
                  <img src="https://github.com/nguyendangminh278-coder/portfolio/blob/3d05bbf810f7dc2615f5898635158482db4bc866/%E1%BA%A2nh%20main/Project/Social%20Media/3.png?raw=1" alt="Social Media 3" loading="lazy">
                </a>
                <a class="proj-card" href="https://www.tiktok.com/@gioitsakhongkho" target="_blank" rel="noopener">
                  <img src="https://github.com/nguyendangminh278-coder/portfolio/blob/dfb7ea688d2370c05535a15751bb1244e7a1134a/%E1%BA%A2nh%20main/Project/Social%20Media/4.png?raw=1" alt="Social Media 4" loading="lazy">
                </a>
                <a class="proj-card" href="https://www.youtube.com/@qlTSAonHSAEDUCATION" target="_blank" rel="noopener">
                  <img src="https://github.com/nguyendangminh278-coder/portfolio/blob/dfb7ea688d2370c05535a15751bb1244e7a1134a/%E1%BA%A2nh%20main/Project/Social%20Media/5.png?raw=1" alt="Social Media 5" loading="lazy">
                </a>
                <a class="proj-card" href="https://www.youtube.com/@danhgiatuduytsa" target="_blank" rel="noopener">
                  <img src="https://github.com/nguyendangminh278-coder/portfolio/blob/69935af61fb549f6d4de8273c8f0711584024b88/%E1%BA%A2nh%20main/Project/Social%20Media/6.png?raw=1" alt="Social Media 6" loading="lazy">
                </a>
              </div>
            </div>

            <!-- Sales (placeholder) -->
            <div class="tab-panel" id="tab-sales">
              <div class="project-grid">
                <a class="proj-card" href="#"><img src="" alt="Sales project placeholder" loading="lazy"></a>
                <a class="proj-card" href="#"><img src="" alt="Sales project placeholder" loading="lazy"></a>
              </div>
            </div>

            <!-- Business Analysis (placeholder) -->
            <div class="tab-panel" id="tab-ba">
              <div class="project-grid">
                <a class="proj-card" href="#"><img src="" alt="BA project placeholder" loading="lazy"></a>
                <a class="proj-card" href="#"><img src="" alt="BA project placeholder" loading="lazy"></a>
              </div>
            </div>
          </div>
          <!-- /PANELS -->
        </div>
      </section>
    </div>
  </main>

  <!-- ===== Viewer overlay ===== -->
  <div class="viewer" id="viewer" aria-hidden="true">
    <div class="viewer-backdrop" id="viewerClose"></div>
    <div class="viewer-panel" role="dialog" aria-modal="true" aria-label="Marketing project viewer">
      <div class="viewer-head">
        <span id="viewerTitle">Project</span>
        <button class="btn" id="viewerBack">Back</button>
      </div>
      <div class="viewer-body">
        <img id="viewerImg" class="viewer-img" src="" alt="Slide">
      </div>
      <div class="viewer-foot">
        <button class="btn" id="prevBtn">Prev</button>
        <span class="viewer-count" id="viewerCount">1 / 1</span>
        <button class="btn" id="nextBtn">Next</button>
        <button class="btn" id="closeBtn">Close</button>
      </div>
    </div>
  </div>

  <script>
    /* Tab switching */
    const items = document.querySelectorAll('.proj-item');
    const panels = {
      overall : document.getElementById('tab-overall'),
      marketing: document.getElementById('tab-marketing'),
      social  : document.getElementById('tab-social'),
      sales   : document.getElementById('tab-sales'),
      ba      : document.getElementById('tab-ba')
    };
    items.forEach(it=>{
      it.addEventListener('click', (e)=>{
        e.preventDefault();
        const key = it.dataset.tab;
        items.forEach(x=>x.classList.remove('is-active'));
        it.classList.add('is-active');
        Object.values(panels).forEach(p=>p.classList.remove('is-show'));
        panels[key]?.classList.add('is-show');
      });
    });

    /* ===== Marketing viewer ===== */
    const viewer = document.getElementById('viewer');
    const viewerImg = document.getElementById('viewerImg');
    const viewerTitle = document.getElementById('viewerTitle');
    const viewerCount = document.getElementById('viewerCount');
    const closeBtn = document.getElementById('closeBtn');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const viewerBack = document.getElementById('viewerBack');
    const viewerClose = document.getElementById('viewerClose');

    let slides = [];
    let idx = 0;

    function openViewer(title, baseURL, maxN){
      viewerTitle.textContent = title;
      slides = [];
      idx = 0;

      const maxTry = parseInt(maxN, 10) || 30;
      for(let i=1;i<=maxTry;i++){
        const url = `${baseURL}${i}.png?raw=1`;
        const img = new Image();
        img.onload = ()=>{
          slides.push(url);
          if (slides.length === 1){
            idx = 0; renderSlide();
          }
        };
        img.onerror = ()=>{};
        img.src = url;
      }

      viewer.classList.add('is-open');
      document.body.style.overflow = 'hidden';
    }

    function closeViewer(){
      viewer.classList.remove('is-open');
      document.body.style.overflow = '';
      slides = []; idx = 0;
    }

    function renderSlide(){
      if (!slides.length){
        viewerImg.alt = 'No image found';
        viewerImg.src = '';
        viewerCount.textContent = '0 / 0';
        return;
      }
      viewerImg.src = slides[idx];
      viewerCount.textContent = (idx+1) + ' / ' + slides.length;
    }

    prevBtn.addEventListener('click', ()=>{
      if (!slides.length) return;
      idx = (idx - 1 + slides.length) % slides.length;
      renderSlide();
    });
    nextBtn.addEventListener('click', ()=>{
      if (!slides.length) return;
      idx = (idx + 1) % slides.length;
      renderSlide();
    });

    [closeBtn, viewerBack, viewerClose].forEach(el=>{
      el.addEventListener('click', closeViewer);
    });

    document.addEventListener('keydown', (e)=>{
      if (!viewer.classList.contains('is-open')) return;
      if (e.key === 'Escape') closeViewer();
      if (e.key === 'ArrowLeft') prevBtn.click();
      if (e.key === 'ArrowRight') nextBtn.click();
    });

    // Gán click cho 3 cover trong tab Marketing
    document.querySelectorAll('.marketing-open').forEach(card=>{
      card.addEventListener('click', (e)=>{
        e.preventDefault();
        const title = card.getAttribute('data-title') || 'Project';
        const base  = card.getAttribute('data-base');
        const max   = card.getAttribute('data-max') || '30';
        openViewer(title, base, max);
      });
    });
  </script>
</body>
</html>
